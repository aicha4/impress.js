<!DOCTYPE html>
<meta charset="utf-8" />
<title>Patient Registry, HTML5 application at Roche | presentation by Mariusz Nowak (mariusz.nowak@contractors.roche.com)</title>
<meta name="description" content="Patient Registry">
<meta name="author" content="Mariusz Nowak" />

<link rel="stylesheet" href="css/font.css" />
<link rel="stylesheet" href="css/default.css" />
<link rel="stylesheet" href="highlight/styles/sunburst.css">

<div id="impress" class="impress-not-supported">
  <div id="fm1" class="fallback-message hidden">
    <p>Your browser <b>doesn't support the features required</b> by impress.js,
      so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Safari</b> or
      <b>Chrome</b> browser. Firefox 10 (to be released soon)
      will also handle it.</p>
  </div>
  <div id="fm2" class="fallback-message">
    <p>If you have fast machine and recent Safari or Google Chrome installed,
      please check <a href="3d/index.html">a bit more "moving" version of that presentation</a></p>
    <p style="text-align:center"><big>Otherwise, scroll down to see the slides</big></p>
  </div>

  <div id="patient-registry" class="step">
    <h1><b>Patient Registry</b></h1>
    <h2><b>HTML5</b> @</h2>
    <h3 style="text-align: center; padding:30px 0;"><img src="roche.white.png" style="width:40%; opacity: 0.7" /></h3>
    <p class="footer">
      <span>Marzec 2012</span> ·
      <span>Warszawa</span>
    </p>
  </div>

  <div id="html5" class="step">
    <p><img src="HTML5.table.png" style="width: 100%" /></p>
  </div>

  <div id="html5-wykorzystanie" class="step">
    <h3>Wykorzystane technologie</h3>
    <ul>
      <li><a href="http://en.wikipedia.org/wiki/Web_Storage">Web Storage</a></li>
      <li><a href="http://en.wikipedia.org/wiki/Cache_manifest_in_HTML5">Application Cache</a></li>
      <li><a href="http://en.wikipedia.org/wiki/Single-page_application#Browser_history">History</a></li>
      <li><a href="http://en.wikipedia.org/wiki/Web_Sockets">Web Sockets</a></li>
      <li><a href="http://dvcs.w3.org/hg/xhr/raw-file/tip/Overview.html">XMLHttpRequest (Level 2)</a></li>
      <li><a href="http://es5.github.com/">ECMAScript 5</a></li>
    </ul>
  </div>

  <div id="aplikacja" class="step">
    <h2 style="font-size: 1.5em"><a href="http://rbauv123.bas.roche.com:8000">rbauv123.bas.roche.com:8000</a></h2>
    <p style="text-align:center">albert.ellis@example.com:12345</p>
  </div>

  <div id="organizacja" class="step">
    <h3>Organizacja kodu</h3>
    <p>Moduły CommonJS (Node.js)</p>
    <p class="small">add.js</p>
    <pre><code><mark>module.exports</mark> = function() {
  var sum = 0, i = 0, args = arguments, l = args.length;
  while (i &lt; l) sum += args[i++];
  return sum;
};</code></pre>
    <p class="small">increment.js</p>
    <pre><code>var add = <mark>require</mark>('./add');
<mark>module.exports</mark> = function(val) {
  return add(val, 1);
};</code></pre>
    <p class="small">program.js</p>
    <pre><code>var inc = <mark>require</mark>('./increment');
var a = 1;
inc(a); // 2</code></pre>
  </div>

  <div id="webmake" class="step">
    <p>Pakowanie pod przeglądarkę z pomocą <a style="white-space:nowrap" href="https://github.com/medikoo/modules-webmake">modules-webmake</a></p>
    <pre><code style="font-size: 0.75em">(function (modules) {
  // 53 linie kodu obsługującego zależności
})
({
  "root": {
    "add.js": function (exports, module, require) {
      module.exports = function () {
        var sum = 0, i = 0, args = arguments, l = args.length;
        while (i &lt; l) sum += args[i++];
        return sum;
      };
    },
    "increment.js": function (exports, module, require) {
      var add = require('./add');
      module.exports = function (val) {
        return add(val, 1);
      };
    },
    "program.js": function (exports, module, require) {
      var inc = require('./increment');
      var a = 1;
      inc(a); // 2
    }
  }
})
("root/program");</code></pre>
  </div>

  <div id="moduly" class="step">
    <p>Więcej informacji na slajdach: <a href="http://www.medikoo.com/moduly-javascript.pdf">Moduły JavaScript</a></p>
    <p class="small">(wersja angielska: <a href="http://www.medikoo.com/javascript-modules.pdf">JavaScript Modules Done Right</a>)</p>
  </div>

  <div id="domjs" class="step">
    <h3>Silnik szablonów: <a href="https://github.com/medikoo/domjs">domjs</a></h3>
    <pre><code class="javascript" style="font-size: 0.75em;">header(
  h1('Heading'),
  h2('Subheading'));

  nav(
    ul({ 'class': 'breadcrumbs' },
      li(a({ href: '/' }, 'Home')),
      li(a({ href: '/section/'}, 'Section')),
      li(a('Subject'))));

  article(
    p('Lorem ipsum...'));

  footer('Footer stuff');</code></pre>
    <p class="small">zorientowany obiektowo</p>
    <pre><code style="font-size: 0.75em;">var myul = ul(li('one'), li('two'), li('three'));

// ... jakiś kod ...

// Dodanie dodatkowych elementów do listy myul
myul(li('four'), li('five'));

// Przeniesienie listy do innego elementu
div(myul);</code></pre>
  </div>

  <div id="widoki" class="step">
    <h3>Widoki i routing</h3>
    <p>Konfiguracja różnic na bazie drzewa</p>
    <pre><code>// |-> Home
//   |-> Profile
//   |-> Patients
//     |-> Patient
//       |-> Add visit
//   |-> Visits
//     |-> Visit

// Szablony opisują różnice wobec nadrzędnego szablonu
var home     = view('home.tpl');
var profile  = home.diff('profile.tpl');
var patients = home.diff('patients.tpl');
var patient  = patients.diff('patient.tpl');
var addVisit = patient.diff('add-visit.tpl');
var visits   = home.diff('visits.tpl');
var visit    = visits.diff('visit.tpl');</code></pre>
  </div>

  <div id="db" class="step">
    <h3>Podręczna baza danych</h3>
    <pre><code style="font-size:0.75em;">var nsdoctor = db.create('doctor', {
  name: { type: 'text', label: 'Name', required: true },
  email: { type: 'email', label: 'E-mail', required: true }
});

var nspatient = db.create('patient', {
  name: { type: 'text', label: 'Name', required: true },
  doctor: { type: nsdoctor, label: 'Doctor', required: true }
});

var nsvisit = db.create('visit', {
  doctor: { type: nsdoctor, label: 'Doctor', required: true },
  patient: { type: nspatient, label: 'Patient', required: true },
  date: { type: 'datetime', label: 'Date', required: true }
});</code></pre>
    <p>Obiekty</p>
    <pre><code style="font-size:0.75em;">var john = nsdoctor.create({ name: 'John Smith', email: 'john.smith@roche.com' });

// Meta dane:
john._id // aka GUID np. 'fsay6u234sd'
john._created // data utworzenia
john._updated // data modyfikacji

// Widoczne właściwości na obiekcie (z pomocą ECMAScript5)
Object.keys(john) // ['name', 'email']</code></pre>
  </div>

  <div id="db-kolekcje" class="step">
    <p>Kolekcje danego typu</p>
    <pre><code style="font-size:0.75em;">// to nieuporządkowane kolekcje obiektów,
// widoczne właściwości:
assert.deep(nsdoctor, { fsay6u234sd: john }); // true
Object.keys(nsdoctor) // ['fsay6u234sd']

var ian = nspatient.create({ name: 'Ian Tate', doctor: john });
var henry = nspatient.create({ name: 'Henry Wilkinson', doctor: john });

ian._id // 'gdsaa78sdf'
henry._id // '5rgrs23bfe'
Object.keys(nspatient) // ['gdsaa78sdf', '5rgrs23bfe']</pre></code>
    <p>Relacje</p>
    <pre><code style="font-size:0.75em;">var johnPatients = john._get(nspatient);
// to również nieuporządkowane kolekcje
Object.keys(docPatients); // ['gdsaa78sdf', '5rgrs23bfe']

var carol = nspatient.create({ name: 'Carol Hanson', doctor: john });
carol._id // 'yuerert435'

// Aktualizowane na bierząco
Object.keys(johnPatients); // ['gdsaa78sdf', '5rgrs23bfe', 'yuerert435']</code></pre>
  </div>

  <div id="db-listy" class="step">
    <p>Uporządkowane listy</p>
    <pre><code style="font-size:0.75em;">var plist = nspatient.list('name');
plist // [carol, henry, ian]

// Ze wzgędów wydajnościowych aktualizowane w następnym "event loop'ie"
henry._set('name', 'Zahary Wilkinson');
setTimeout(function () {
  plist // [carol, ian, henry]
}, 0);</code></pre>
    <p>Filtry</p>
    <pre><code style="font-size:0.75em;">var flist = nspatient.filter('name', function (name, obj) {
  return name.indexOf('Ian') === 0;
});
Object.keys(flist) // ['gdsaa78sdf']

// aktualizowane na bierząco
henry._set('name', 'Ian Wilkinson');
Object.keys(flist) // ['gdsaa78sdf', '5rgrs23bfe']

// Możemy tworzyć uporządkowane listy również na bazie filtrów
flist.list('name') // [ian, henry]</code></pre>
  </div>

  <div id="pozostale" class="step">
    <h3>Poza tym:</h3>
    <ul>
      <li><a href="http://socket.io/">Socket.io</a> - Połączenia socketowe, klient &lt;-&gt; serwer</li>
      <li><a href="https://github.com/felixge/node-formidable">Formidable</a> - Obsługa uploadu załączników (serwer)</li>
      <li><a href="https://github.com/medikoo/deferred">deferred</a> - Obsługa asynchronicznych wywołań<br /><span style="font-size: 0.75em; padding-left: 1.5em">Więcej informacji w slajdach <a href="http://medikoo.com/asynchronous-javascript/">Asynchronous JavaScript</a></span></li>
      <li><a href="https://github.com/medikoo/es5-ext">es5-ext</a> - Rozszerzenia do standardu ES5</li>
      <li><a href="http://www.mongodb.org/">mongodb</a> - Fizyczna baza danych po stronie serwra</li>
    </ul>
  </div>

  <div id="pytania" class="step">
    <h2>Pytania?</h2>
  </div>

  <div id="dziekuje" class="step final">
    <h2>Dziękuję!</h2>
    <div style="text-align: center; padding: 20px 0;">
      <p class="name">Mariusz Nowak</p>
      <p class="email" style="font-size: 0.75em"><a href="mailto:mariusz.nowak@contractors.roche.com">mariusz.nowak@contractors.roche.com</a></p>
      <p style="padding: 30px 0"><img src="roche.white.png" style="width:30%; opacity: 0.7" /></p>
    <div>
  </div>

  <div id="overview" class="step" data-x="2800" data-y="1000" data-scale="10"></div>
  <div class="hint"><p>Use a spacebar or arrow keys to navigate</p></div>
</div>

<div id="timer"></div>

<script src="highlight/highlight.pack.js"></script>
<script src="js/impress.js"></script>
<script src="js/default.js"></script>
</body>
</html>
